(this["webpackJsonpmm-character-builder"]=this["webpackJsonpmm-character-builder"]||[]).push([[0],{10:function(e,a,t){e.exports=t(16)},15:function(e,a,t){},16:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),r=t(9),l=t.n(r),i=(t(15),t(1)),m=t(2),s=function(e){var a;try{a=window[e];var t="__storage_test__";return a.setItem(t,t),a.removeItem(t),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&a&&0!==a.length}},o=function(e,a){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-u,"+encodeURIComponent(e)),t.setAttribute("download",a),t.click()},u={name:"",gender:"",size:"",lineage:"",archetypes:"",heritage:"",speed:"",actions:[{id:1234,name:"Punch",proficiency:4,specific:!0,max:"12"},{id:1244,name:"Kick",proficiency:2,specific:!1,max:"10"}],traits:[{id:6234,name:"Punch",damage:"1d8",active:!0},{id:3234,name:"Kick",damage:"4",active:!1}],movement:"",stamina:"",ethos:"",reputation:"",experience:0,level:1,inspiration:!1},h=t(7),E=t(3),f=t(4),p=t(6),d=t(5),b=["className"],g=["className","size"],v=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){var e=this.props,a=e.className,t=Object(h.a)(e,b);return c.a.createElement("div",Object.assign({className:a?"mm-row "+a:"mm-row"},t),this.props.children)}}]),t}(n.Component),O=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){var e=this.props,a=e.className,t=e.size,n=Object(h.a)(e,g);return this.size?c.a.createElement("section",Object.assign({className:a?"mm-container-".concat(t," ")+a:"mm-container-".concat(t)},n),this.props.children):c.a.createElement("section",Object.assign({className:a?"mm-container "+a:"mm-container"},n),this.props.children)}}]),t}(n.Component),j=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"mm-container-gutter"})}}]),t}(n.Component),y=(n.Component,function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){return c.a.createElement("article",{className:"mm-box"},c.a.createElement("span",{className:"mm-box-tag"},this.props.tag),this.props.children)}}]),t}(n.Component)),C=["label","size","onChange","onBlur","allowEnter"],N=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=(a.label,a.size),n=a.onChange,r=a.onBlur,l=a.allowEnter,i=Object(h.a)(a,C);return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",Object.assign({type:"text",value:this.props.value,onChange:function(a){a.target.id=e.props.id,n(a)},onBlur:r,onKeyDown:function(e){l||13===e.keyCode&&e.preventDefault()},onFocus:function(e){e.target.select()},className:"mm-text-input".concat(t?" "+t:""),spellCheck:"false"},i)))}}]),t}(n.Component),k=["label","size","onChange","onBlur"],x=function(e){Object(p.a)(t,e);var a=Object(d.a)(t);function t(){return Object(E.a)(this,t),a.apply(this,arguments)}return Object(f.a)(t,[{key:"render",value:function(){var e=this,a=this.props,t=(a.label,a.size),n=a.onChange,r=a.onBlur,l=Object(h.a)(a,k);return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",Object.assign({type:"number",value:this.props.value,onChange:function(a){a.target.id=e.props.id,n(a)},onBlur:r,onKeyDown:function(e){13===e.keyCode&&e.preventDefault()},onFocus:function(e){e.target.select(),n(e)},className:"mm-text-input".concat(t?" "+t:""),spellCheck:"false"},l)))}}]),t}(n.Component);var w=function(e){return c.a.createElement("label",{className:"switch"},c.a.createElement("input",Object.assign({type:"checkbox"},e)),c.a.createElement("span",{className:"slider round"}))},S=function(e){var a=c.a.useState(""),t=Object(m.a)(a,2),n=t[0],r=t[1],l=c.a.useState(""),s=Object(m.a)(l,2),o=s[0],u=s[1],h=c.a.useState(!1),E=Object(m.a)(h,2),f=E[0],p=E[1],d=function(a){var t=Object(i.a)({},e.character);t.actions=t.actions.filter((function(e){return e.id!==a})),e.setCharacter(t)},b=function(a,t,n){var c=Object(i.a)({},e.character);c.actions=c.actions.map((function(e){var c;return e.id===t?("name"===n&&(c=Object(i.a)(Object(i.a)({},e),{},{name:a.target.value})),"proficiency"===n&&(c=Object(i.a)(Object(i.a)({},e),{},{proficiency:a.target.value})),"specific"===n&&(a.target.checked?(e.max=12,e.proficiency=parseInt(e.proficiency)+2):(e.max=10,e.proficiency=parseInt(e.proficiency)-2),c=Object(i.a)(Object(i.a)({},e),{},{specific:a.target.checked}))):c=e,c})),e.setCharacter(c)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,null,c.a.createElement(O,null,e.character.actions.map((function(e,a){return c.a.createElement("div",{id:"action-"+e.id,className:"mm-action",key:e.id},c.a.createElement(v,null,c.a.createElement(O,{className:"action-name-padding",size:"2"},c.a.createElement(N,{id:"name-"+e.id,value:e.name,onChange:function(a){return function(e,a){b(e,a,"name")}(a,e.id)}}))),c.a.createElement(v,{className:"action-info"},c.a.createElement(O,{className:"action-proficiency"},c.a.createElement("label",{className:"f-grey h5"},"Proficiency:"),c.a.createElement(x,{id:"proficiency-"+e.id,max:e.max,value:e.proficiency,onChange:function(a){return function(e,a){b(e,a,"proficiency")}(a,e.id)}})),c.a.createElement(O,{className:"action-specific"},c.a.createElement("label",{className:"f-grey h5"},"Specific:"),c.a.createElement(w,{checked:e.specific,onChange:function(a){return function(e,a){b(e,a,"specific")}(a,e.id)}}))),c.a.createElement("button",{className:"mm-delete",type:"button",onClick:function(){return a=e.id,void d(a);var a}},"X"))})))),c.a.createElement("form",{className:"mm-add",onSubmit:function(a){a.preventDefault();var t=Object(i.a)({},e.character),c=f?12:10;t.actions.push({id:"id"+(new Date).getTime(),name:n,proficiency:o,specific:f,max:c}),e.setCharacter(t),r(""),u(""),p(!1)}},c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("h3",null,"Add a new action"))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"action Name:"),c.a.createElement(N,{value:n,onChange:function(e){r(e.target.value)},allowEnter:!0})),c.a.createElement(j,null),c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"action Proficiency:"),c.a.createElement(N,{value:o,onChange:function(e){u(e.target.value)},allowEnter:!0}))),c.a.createElement(v,{className:"mm-submit"},c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Specific:"),c.a.createElement(w,{checked:f,onChange:function(e){p(e.target.checked)}})),c.a.createElement(O,null,c.a.createElement("button",{type:"submit"},"Add Item")))))},A=function(e){var a=c.a.useState(""),t=Object(m.a)(a,2),n=t[0],r=t[1],l=c.a.useState(""),s=Object(m.a)(l,2),o=s[0],u=s[1],h=c.a.useState(!1),E=Object(m.a)(h,2),f=E[0],p=E[1],d=function(a){var t=Object(i.a)({},e.character);t.traits=t.traits.filter((function(e){return e.id!==a})),e.setCharacter(t)},b=function(a,t,n){var c=Object(i.a)({},e.character);c.traits=c.traits.map((function(e){var c;return e.id===t?("name"===n&&(c=Object(i.a)(Object(i.a)({},e),{},{name:a.target.value})),"effect"===n&&(c=Object(i.a)(Object(i.a)({},e),{},{effect:a.target.value})),"active"===n&&(c=Object(i.a)(Object(i.a)({},e),{},{active:a.target.checked}))):c=e,c})),e.setCharacter(c)};return c.a.createElement(c.a.Fragment,null,c.a.createElement(v,null,c.a.createElement(O,null,e.character.traits.map((function(e,a){return c.a.createElement("div",{className:"mm-trait",key:e.id},c.a.createElement(v,null,c.a.createElement(O,{className:"trait-name-padding",size:"2"},c.a.createElement(N,{id:"name-"+e.id,value:e.name,onChange:function(a){return function(e,a){b(e,a,"name")}(a,e.id)}}))),c.a.createElement(v,{className:"trait-info"},c.a.createElement(O,{className:"trait-effect"},c.a.createElement("label",{className:"f-grey h5"},"Effect:"),c.a.createElement(N,{id:"effect-"+e.id,value:e.effect,onChange:function(a){return function(e,a){b(e,a,"effect")}(a,e.id)}})),c.a.createElement(O,{className:"trait-active"},c.a.createElement("label",{className:"f-grey h5"},"Active:"),c.a.createElement(w,{checked:e.active,onChange:function(a){return function(e,a){b(e,a,"active")}(a,e.id)}}))),c.a.createElement("button",{className:"mm-delete",type:"button",onClick:function(){return a=e.id,void d(a);var a}},"X"))})))),c.a.createElement("form",{className:"mm-add",onSubmit:function(a){a.preventDefault();var t=Object(i.a)({},e.character);t.traits.push({id:"id"+(new Date).getTime(),name:n,effect:o,active:f}),e.setCharacter(t),r(""),u(""),p(!1)}},c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("h3",null,"Add a new trait"))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Trait Name:"),c.a.createElement(N,{value:n,onChange:function(e){r(e.target.value)},allowEnter:!0})),c.a.createElement(j,null),c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Trait Effect:"),c.a.createElement(N,{value:o,onChange:function(e){u(e.target.value)},allowEnter:!0}))),c.a.createElement(v,{className:"mm-submit"},c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Active:"),c.a.createElement(w,{checked:f,onChange:function(e){p(e.target.checked)}})),c.a.createElement(O,null,c.a.createElement("button",{type:"submit"},"Add Item")))))},D=function(e){return c.a.createElement("div",{className:"mm-display"},c.a.createElement("img",{className:"mm-charicter-portrait",src:"./images/character/bard.png",alt:"Character Portrait"}),c.a.createElement("div",{className:"mm-stats"},c.a.createElement("p",null,c.a.createElement("span",null,"Inspiration:\xa0"),c.a.createElement(w,{checked:e.character.inspiration,onChange:function(a){var t=Object(i.a)({},e.character);t.inspiration=!t.inspiration,e.setCharacter(t)}})),c.a.createElement("p",null,c.a.createElement("span",null,"Experience:\xa0"),c.a.createElement("input",{type:"number",value:e.character.experience,onChange:function(a){var t=Object(i.a)({},e.character);t.experience=a.target.value,e.setCharacter(t)}})),c.a.createElement("p",null,c.a.createElement("span",null,"Level:\xa0"),c.a.createElement("input",{type:"number",value:e.character.level,onChange:function(a){var t=Object(i.a)({},e.character);t.level=a.target.value,e.setCharacter(t)}}))))};var I=function(e){var a=Object(n.useState)(""),t=Object(m.a)(a,2),r=t[0],l=t[1],h=Object(n.useState)(u),E=Object(m.a)(h,2),f=E[0],p=E[1];Object(n.useEffect)((function(){if(s("localStorage"))if(localStorage.getItem("mm-character")){var e=JSON.parse(localStorage.getItem("mm-character"));p(e)}else p(u);else l(c.a.createElement("div",null,"Sorry. App is not supported in this browser."));document.body.classList.add("light")}),[]),Object(n.useEffect)((function(){s("localStorage")&&localStorage.setItem("mm-character",JSON.stringify(f))}),[f]);var d=function(e){var a=Object(i.a)({},f);a[e.target.id]=e.target.value,p(a)};document.title=f.name?f.name+" | Might & Miracles Character Builder":"Might & Miracles Character Builder";var b=(new Date).getFullYear();return c.a.createElement("div",{id:"mm-app"},r,c.a.createElement("header",{id:"mm-header"},c.a.createElement("div",{className:"mm-content"},c.a.createElement("img",{id:"mm-logo",src:"/images/mm-logo.png",alt:"D&D Logo"}),c.a.createElement("div",{id:"mm-options"},c.a.createElement("h1",{id:"mm-title"},"Character Builder"),c.a.createElement("button",{id:"mm-export",className:"mm-button",onClick:function(e){o(JSON.stringify(f),"character-sheet-".concat(f.name,".json"))}},"Export Character Data")))),c.a.createElement("main",{id:"mm-content"},c.a.createElement("div",{className:"mm-content"},c.a.createElement(y,null,c.a.createElement(v,null,c.a.createElement(O,{size:"2"},c.a.createElement(v,null,c.a.createElement(O,{size:"2"},c.a.createElement("h2",{className:"h2 mm-ribbon mm-ribbon-left"},"Character Info"))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h4"},"Name:"),c.a.createElement(N,{value:f.name,id:"name",onChange:d,placeholder:"Character Name"}))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Lineage:"),c.a.createElement(N,{value:f.lineage,id:"lineage",onChange:d,placeholder:"Lineage"})),c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Heritage:"),c.a.createElement(N,{value:f.heritage,id:"heritage",onChange:d,placeholder:"Heritage"})),c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Archetypes:"),c.a.createElement(N,{value:f.archetypes,id:"archetypes",onChange:d,placeholder:"Archetypes"})),c.a.createElement(O,null,c.a.createElement("label",{className:"f-grey h5"},"Level:"),c.a.createElement(x,{value:f.level,min:"0",id:"level",onChange:d,placeholder:"Level"}))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("h4",{className:"h4 mm-ribbon mm-ribbon-left"},"Traits"))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement(A,{character:f,setCharacter:p})))),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(j,null),c.a.createElement(O,null,c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement(D,{character:f,setCharacter:p}))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement("h4",{className:"h4 mm-ribbon mm-ribbon-right"},"Actions"))),c.a.createElement(v,null,c.a.createElement(O,null,c.a.createElement(S,{character:f,setCharacter:p})))))))),c.a.createElement("footer",null,c.a.createElement("p",null,"\xa9 ",b," Might & Miracles "),c.a.createElement("p",null,"Creative Commons (Attribution)")))};l.a.render(c.a.createElement(I,null),document.getElementById("root"))}},[[10,1,2]]]);
//# sourceMappingURL=main.0996dba8.chunk.js.map